---
title: "Linear Regression"
output: github_document
editor_options: 
  chunk_output_type: console
---

```{r}
knitr::opts_chunk$set(fig.path="./figures/linear_regression/")
```


#### simple linear regression
```{r generated plot, message=FALSE, warning=FALSE}
library(ggplot2)
library(dplyr)

n = 300
set.seed(1)
x = runif(n,min = 1,max = 10)
y = -1 + 3 * x + rnorm(n, 0, 1)

ggplot() + geom_point(aes(x, y))
```


#### estimate of true beta
```{r estimation}
X = cbind(1, x)
(beta = solve(t(X) %*% X) %*% t(X) %*% y)

ggplot() + geom_point(aes(x, y)) + 
  geom_line(aes(x, -1 + 3 * x, color = 'true'), lwd = 1.5) + 
  geom_line(aes(x, X %*% beta, color = 'estimated'),
            lwd = 1.5) + 
  scale_color_manual(breaks = c('true','estimated'),
                      values = c('blue', 'red'))

# R built-in function 
lm(y~x)$coefficients

```

